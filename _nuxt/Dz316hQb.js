import{u as A,aq as O,M as z,r as b,i as R,N as u,A as e,a1 as D,t as i,z as n,P as o,B as _,x as U,y as j,af as q,Q as k,a5 as F,U as H,a4 as L,V as Q,W,X,Y,T as E,a0 as G}from"./DLoVI5Kq.js";import{_ as J}from"./JbPeO7sr.js";import{a as K}from"./CQt0DnLH.js";const te={__name:"index",setup(Z){const m=A(),y=localStorage.getItem("uid"),p=O(),{editPantry:I}=p,{currentPantry:a}=z(p),s=b(a.value.name),l=b(a.value.members),v=async()=>{const t={...a.value,name:s.value,members:l.value};await I(t),m.back()},w=t=>{l.value.find(r=>r.id===t.id)?l.value=l.value.filter(r=>r.id!=t.id):l.value.push(t)},d=R(()=>a.value.ownerId!==y),B=async()=>{await leaveList(),m.back()};return(t,c)=>{const r=F,x=H,M=L,P=Q,g=W,V=X,N=Y,S=J,f=E,T=G,C=D;return i(),u(C,null,{default:e(()=>[n(g,null,{default:e(()=>[n(P,null,{default:e(()=>[n(x,{slot:"start"},{default:e(()=>[n(r,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:o(K)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(T,{fullscreen:!0},{default:e(()=>[U("h2",null,j(o(s)),1),n(N,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:o(s),"onUpdate:modelValue":c[0]||(c[0]=h=>q(s)?s.value=h:null)},null,8,["modelValue"])]),_:1}),o(d)?k("",!0):(i(),u(S,{key:0,members:o(a).members,onToggleMember:w},null,8,["members"])),o(d)?(i(),u(f,{key:1,expand:"block",class:"my-6",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):k("",!0),n(f,{expand:"block",onClick:v,class:"my-6"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{te as default};
