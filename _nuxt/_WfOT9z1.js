import{ak as A,ay as M,al as z,r as u,N as F,A as e,a1 as H,t as P,z as o,B as r,x as R,P as n,af as f,l as d,a4 as Z,V as $,W as D,ac as E,T as O,az as W,a0 as h,aA as q}from"./DGn-Ul8E.js";import{_ as G}from"./ShYP146C.js";import{_ as J}from"./DP3BMDuz.js";const K={class:"flex items-center h-full w-full"},eo={__name:"index",setup(Q){const g=A(),{getNotifications:w}=g,{displayToast:v}=q(),T=M(),{loginUser:V}=T,y=z(),{getFamilyDetails:b}=y,s=u(""),l=u(""),_=u(""),c=u(!1),I=()=>{_.value="Zalogowano pomyślnie",c.value=!0,setTimeout(()=>{c.value=!1},2e3)},x=async()=>{try{const t=await V(s.value,l.value);t.error?v(t.error):(d("/"),await w(),await b(),I())}catch(t){console.log(t)}};return(t,a)=>{const k=Z,N=$,S=D,m=G,B=E,p=O,C=J,L=W,U=h,j=H;return P(),F(j,null,{default:e(()=>[o(S,null,{default:e(()=>[o(N,null,{default:e(()=>[o(k,null,{default:e(()=>[r("Logowanie")]),_:1})]),_:1})]),_:1}),o(U,{fullscreen:!0},{default:e(()=>[R("div",K,[o(C,{class:"p-8 w-full"},{title:e(()=>[r(" Logowanie ")]),default:e(()=>[o(B,null,{default:e(()=>[o(m,{label:"Email",type:"email",modelValue:n(s),"onUpdate:modelValue":a[0]||(a[0]=i=>f(s)?s.value=i:null)},null,8,["modelValue"]),o(m,{label:"Hasło",type:"password",modelValue:n(l),"onUpdate:modelValue":a[1]||(a[1]=i=>f(l)?l.value=i:null)},null,8,["modelValue"])]),_:1}),o(p,{class:"w-full mt-4",expand:"block",onClick:x},{default:e(()=>[r("Zaloguj")]),_:1}),o(p,{class:"w-full mt-4",expand:"block",fill:"outline",onClick:a[2]||(a[2]=i=>("navigateTo"in t?t.navigateTo:n(d))("/register"))},{default:e(()=>[r("Rejestracja")]),_:1})]),_:1})]),o(L,{"is-open":n(c),message:n(_),duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})}}};export{eo as default};
